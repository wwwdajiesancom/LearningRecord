<?xml version="1.0" encoding="UTF-8"?>
<!-- http://www.cnblogs.com/warking/p/5710303.html -->
<!-- scan:é…ç½®æ–‡ä»¶å‘ç”Ÿæ”¹å˜æ—?,é‡æ–°åŠ è½½ ,é»˜è®¤ä¸ºtrue -->
<!-- scanPeriod:æ£?æµ‹é…ç½?,é»˜è®¤ä¸?60ç§?  -->
<!-- debug:ä¸ºtrue,å°†æ‰“å°å‡ºLogbackå†…éƒ¨çš„æ—¥å¿? -->
<configuration scan="true" scanPeriod="60 seconds" debug="false">
	
	<!-- å®šä¹‰ä¸?äº›å˜é‡?,å¼•ç”¨${consoleLogPath} -->
	<property name="encoderCharset" value="utf-8" />
	<property name="consoleLogPath" value="logs/console.log" />
	<property name="consoleEncoderPattern" value="%date{yyyy-MM-dd HH:mm:ss.SSS} %-5level %logger{36} - %msg%n" />
	
	<property name="fileLogPath" value="logs/file.log" />
	<property name="fileEncoderPattern" value="[%d{yyyy-MM-dd HH:mm:ss.SSS}] [%5level] [%thread] %logger{0} %msg%n" />
	
	<property name="rollingLogPath" value="logs/rolling.log" />
	<property name="rollingLogPathPattern" value="logs/rolling-%d{yyyy-MM-dd}.log" />
	<property name="rollingLogPathPatternZip" value="logs/rolling-%d{yyyy-MM-dd}.%i.log.zip" />
	<property name="rollingEncoderPattern" value="[%d{yyyy-MM-dd HH:mm:ss.SSS}] [%5level] [%thread] %logger{0} %msg%n" />
	
	<!-- å­èŠ‚ç‚?,å…±åˆ†ä¸?3ç±?,appender,logger,root, -->
	<!-- ConsoleAppender å†™åˆ°æŽ§åˆ¶å? -->
	<!-- FileAppender å†™åˆ°æ—¥å¿—æ–‡ä»¶ä¸?  -->
	<!-- RollingFileAppender æ»šåŠ¨æ—¥å¿—æ–‡ä»¶,å…ˆå°†æ—¥å¿—è®°å½•åˆ°æŒ‡å®šæ–‡ä»¶ï¼Œå½“ç¬¦åˆæŸä¸ªæ¡ä»¶æ—¶ï¼Œå°†æ—¥å¿—è®°å½•åˆ°å…¶ä»–æ–‡ä»? -->
	
	
	<!-- appender,è®¾ç½®ä¸?ä¸ªå†™æ—¥å¿—çš„è§„å®? -->
	<!-- name:appenderçš„åå­?,å¯ä»¥å–çš„æœ‰ä¸€å®šçš„æ„ä¹‰ -->
	<!-- class:å†™æ—¥å¿—çš„æ–¹å¼,éƒ½å®žçŽ°äº†AppenderæŽ¥å£ -->
	<appender name="console" class="ch.qos.logback.core.ConsoleAppender">
		<!-- 1.è®¾ç½®æ—¥å¿—è¾“å‡ºä½ç½®,å¯ä»¥ä¸å†™é»˜è®¤System.out -->
		<target>System.out</target>
		<!-- 2.è®¾ç½®æ—¥å¿—æ ¼å¼ -->
		<!-- é»˜è®¤ä¸ºPatternLayoutEncoder -->
		<encoder>
			<pattern>${consoleEncoderPattern}</pattern>
			<charset>${encoderCharset}</charset>
		</encoder>
	</appender>

	<!-- æ–‡ä»¶æ—¥å¿— -->
	<appender name="file" class="ch.qos.logback.core.FileAppender">
		<file>${fileLogPath}</file>
		<!-- append: true,æ—¥å¿—è¢«è¿½åŠ åˆ°æ–‡ä»¶ç»“å°¾; false,æ¸…ç©ºçŽ°å­˜æ–‡ä»¶;é»˜è®¤æ˜¯true -->
		<append>true</append>
		<!-- prudent:æ˜¯å¦è¦å®‰å…¨å†™å…?(æœ‰é”),trueé€Ÿåº¦æ…¢ï¼Œæ•ˆçŽ‡ä½? -->
		<prudent>false</prudent>
		<filter class="ch.qos.logback.classic.filter.LevelFilter">
			<!-- LevelFilter: çº§åˆ«è¿‡æ»¤å™¨ï¼Œæ ¹æ®æ—¥å¿—çº§åˆ«è¿›è¡Œè¿‡æ»¤ -->
			<level>DEBUG</level>
			<onMatch>ACCEPT</onMatch>
			<onMismatch>DENY</onMismatch>
		</filter>
		<encoder>
			<Pattern>${fileEncoderPattern}</Pattern>
			<charset>${encoderCharset}</charset>
		</encoder>
	</appender>

	<appender name="ERROR"
		class="ch.qos.logback.core.rolling.RollingFileAppender">
		<encoder>
			<Pattern>${rollingEncoderPattern}</Pattern>
			<charset>${encoderCharset}</charset>
		</encoder>
		<file>${rollingLogPath}</file>

		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
			<fileNamePattern>${rollingLogPathPattern}</fileNamePattern>
			<!-- ä¿å­˜3å¤? -->
			<maxHistory>3</maxHistory>
			<!-- è¶…è¿‡3GBå°±ä¼šåˆ é™¤ -->
			<totalSizeCap>3GB</totalSizeCap>
		</rollingPolicy>
	</appender>
	
	<appender name="ERROR2"
		class="ch.qos.logback.core.rolling.RollingFileAppender">
		<encoder>
			<Pattern>${encoderPattern}</Pattern>
			<charset>${encoderCharset}</charset>
		</encoder>
		<file>${rollingLogPath}</file>

		<rollingPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy">
			<fileNamePattern>${rollingLogPathPatternZip}</fileNamePattern>
			<!-- ä¿å­˜60å¤? -->
			<maxHistory>60</maxHistory>
			<!-- è¶…è¿‡3GBå°±ä¼šåˆ é™¤ -->
			<totalSizeCap>3GB</totalSizeCap>
			<!-- æ¯?100MBä¸?ä¸ªæ–‡ä»?,%iå°±æ˜¯å‚æ•° -->
			<maxFileSize>100MB</maxFileSize>
		</rollingPolicy>
	</appender>
	
	<!-- root,å®ƒä¹Ÿæ˜¯ä¸€ä¸ªlogger,ä½†å®ƒæ˜¯loggerçš„æ ¹,æ‰?æœ‰çš„loggerçš„ä¸Šçº? -->
	<!-- level:è®¾ç½®æ‰“å°æ—¥å¿—çº§åˆ«,åšä¸ºå…¨å±€çš„è®¾ç½? -->
	<root level="debug">
		<appender-ref ref="console" />
	</root>

</configuration>